<app-header></app-header>
<div class="form-container">
    <form [formGroup]="propiedadForm" (ngSubmit)="actualizarPropiedad()">
        <div class="form-row">
            <div class="form-group">
                <label for="nombre">Nombre de la Propiedad</label>
                <input id="nombre" formControlName="nombre" type="text" />
                <div class="error" *ngIf="propiedadForm.get('nombre')?.invalid && propiedadForm.get('nombre')?.touched">
                    El nombre es obligatorio.
                </div>
            </div>

            <div class="form-group">
                <label for="area">Área (m²)</label>
                <input id="area" formControlName="area" type="number" />
                <div class="error" *ngIf="propiedadForm.get('area')?.invalid && propiedadForm.get('area')?.touched">
                    El área debe ser mayor que 0.
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="ciudad">Ciudad</label>
                <input id="ciudad" formControlName="ciudad" type="text" />
                <div class="error" *ngIf="propiedadForm.get('ciudad')?.invalid && propiedadForm.get('ciudad')?.touched">
                    La ciudad es obligatoria.
                </div>
            </div>

            <div class="form-group">
                <label for="tipoIngreso">Tipo de Ingreso</label>
                <select id="tipoIngreso" formControlName="tipoIngreso">
                    <option *ngFor="let tipo of tipoIngresoOptions" [ngValue]="tipo.valor">{{ tipo.nombre }}</option>
                </select>
                <div class="error"
                    *ngIf="propiedadForm.get('tipoIngreso')?.invalid && propiedadForm.get('tipoIngreso')?.touched">
                    Selecciona un tipo de ingreso.
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="tipoPropiedad">Tipo de Propiedad</label>
                <select id="tipoPropiedad" formControlName="tipoPropiedad">
                    <option *ngFor="let tipo of tipoPropiedadOptions" [ngValue]="tipo.valor">{{ tipo.nombre }}</option>
                </select>
                <div class="error"
                    *ngIf="propiedadForm.get('tipoPropiedad')?.invalid && propiedadForm.get('tipoPropiedad')?.touched">
                    Selecciona un tipo de propiedad.
                </div>
            </div>

            <div class="form-group">
                <label for="cantidadHabitaciones">Habitaciones</label>
                <input id="cantidadHabitaciones" formControlName="cantidadHabitaciones" type="number" />
                <div class="error"
                    *ngIf="propiedadForm.get('cantidadHabitaciones')?.invalid && propiedadForm.get('cantidadHabitaciones')?.touched">
                    El número de habitaciones debe ser mayor que 0.
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="cantidadBanios">Baños</label>
                <input id="cantidadBanios" formControlName="cantidadBanios" type="number" />
                <div class="error"
                    *ngIf="propiedadForm.get('cantidadBanios')?.invalid && propiedadForm.get('cantidadBanios')?.touched">
                    El número de baños debe ser mayor que 0.
                </div>
            </div>

            <div class="form-group">
                <label for="valorNoche">Valor por Noche</label>
                <input id="valorNoche" formControlName="valorNoche" type="number" />
                <div class="error"
                    *ngIf="propiedadForm.get('valorNoche')?.invalid && propiedadForm.get('valorNoche')?.touched">
                    El valor debe ser mayor que 0.
                </div>
            </div>
        </div>

        <div class="form-row checkbox-group">
            <label>
                <input type="checkbox" formControlName="disponible" />
                Disponible
            </label>

            <label>
                <input type="checkbox" formControlName="aceptaMascotas" />
                Acepta Mascotas
            </label>

            <label>
                <input type="checkbox" formControlName="tienePiscina" />
                Tiene Piscina
            </label>

            <label>
                <input type="checkbox" formControlName="tieneAsador" />
                Tiene Asador
            </label>
        </div>

        <div class="form-row">
            <div class="form-group full-width">
                <label for="descripcion">Descripción</label>
                <textarea id="descripcion" formControlName="descripcion"></textarea>
                <div class="error"
                    *ngIf="propiedadForm.get('descripcion')?.invalid && propiedadForm.get('descripcion')?.touched">
                    La descripción es obligatoria.
                </div>
            </div>
        </div>

        <button type="submit" [disabled]="propiedadForm.invalid">Actualizar Propiedad</button>
    </form>

    <p [style.color]="mensajeColor">{{ mensaje }}</p>
</div>

<app-footer></app-footer>